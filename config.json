{
  "base_url": "https://api.flow.io",
  "enums": {
    "environment": {
      "values": [
        { "name": "sandbox", "description": "In sandbox, no external services (e.g. orders, payments, logistics) will generate real transactions" },
        { "name": "production", "description": "In production, all external services are live and will generate real transactions" }
      ]
    },
    "image_tag": {
      "values": [
        { "name": "thumbnail", "description": "Thumbnail images identify the image to use when displaying products in the Flow Console."},
        { "name": "checkout", "description": "Checkout images identify the item image to use when displaying the item in the context of a consumer checkout (e.g. cart, checkout page)." }
      ]
    },
    "unit_of_measurement": {
      "description": "Defines the units of measurement that we support. As units are added, we conform with the standard units provided by jscience as part of JSR 363 - see http://jscience.org/api/javax/measure/unit/SI.html and http://jscience.org/api/javax/measure/unit/NonSI.html",
      "values": [
        { "name": "millimeter", "description": "Equivalent to MILLI(METRE)." },
        { "name": "centimeter", "description": "Equivalent to CENTI(METRE)." },
        { "name": "inch", "description": "A unit of length equal to 0.01004 m (standard name in)." },
        { "name": "foot", "description": "A unit of length equal to 0.3048 m (standard name ft)." },
        { "name": "cubic_inch", "description": "A unit of volume equal to one cubic inch (in³)." },
        { "name": "cubic_meter", "description": "The metric unit for volume quantities (m³)." },
        { "name": "gram", "description": "A unit of mass equal to 1 / 1000 kilogram (standard name g)." },
        { "name": "kilogram", "description": "The base unit for mass quantities (kg)." },
        { "name": "meter", "description": "The base unit for length quantities (m)." },
        { "name": "ounce", "description": "A unit of mass equal to 1 / 16 POUND (standard name oz)." },
        { "name": "pound", "description": "A unit of mass equal to 453.59237 grams (avoirdupois pound, standard name lb)." }
      ]
    },
    "levy_component": {
      "values": [
        { "name": "goods", "description": "The value of goods" },
        { "name": "duty" },
        { "name": "insurance" },
        { "name": "freight" },
        { "name": "vat", "description": "Value-Added Tax" }
      ]
    },
    "duty_simple_expression_type": {
      "values": [
        { "name": "free" },
        { "name": "percent" },
        { "name": "per_uom" },
        { "name": "flat" }
      ]
    },
    "duty_compound_expression_type": {
      "values": [
        { "name": "sum" },
        { "name": "max" },
        { "name": "min" }
      ]
    },
    "duty_rate_unit_of_measure": {
      "values": [
        { "name": "kg" },
        { "name": "sq_m" },
        { "name": "item" },
        { "name": "pair" }
      ]
    },
    "update_policy": {
      "values": [
        { "name": "auto" },
        { "name": "queue", "description": "Queue item update for approval." },
        { "name": "discard" }
      ]
    }
  },
  "unions": {
    "deminimis": {
      "description": "De Minimis describes the country specific rules for exactly how tax and duties are calculated, as well as any exemptions that apply. See https://en.wikipedia.org/wiki/De_minimis for more information.",
      "discriminator": "discriminator",
      "types": [
        { "name": "deminimis_simple" },
        { "name": "deminimis_per_item" }
      ]
    },
    "duty_expression": {
      "discriminator": "discriminator",
      "types": [
        { "name": "duty_compound_expression" },
        { "name": "duty_simple_expression" }
      ]
    }
  },
  "models": {
    "organization": {
      "description": "Represents a single organization in the system, and what environment it is currently operating in.",
      "fields": [
        { "name": "id", "type": "string" },
        { "name": "name", "type": "string" },
        { "name": "environment", "type": "environment" }
      ]
    },
    "organization_reference": {
      "fields": [
        { "name": "id", "type": "string" }
      ]
    },
    "item": {
      "description": "The Flow item defines a specific item that can be purchased by a consumer. For many clients, this will map to a Sku.",
      "fields": [
        { "name": "id", "type": "string" },
        { "name": "number", "type": "string" },
        { "name": "locale", "type": "string", "example": "en_US" },
        { "name": "name", "type": "string" },
        { "name": "price", "type": "price" },
        { "name": "categories", "type": "[string]", "default": [] },
        { "name": "description", "type": "string", "required": false },
        { "name": "attributes", "type": "map[string]", "default": {}, "description": "Attributes of the items. An attribute of type intent must be given as a string representation of a decimal to be correctly localized." },
        { "name": "dimensions", "type": "dimensions" },
        { "name": "images", "type": "[image]", "default": [] }
      ]
    },
    "price": {
      "description": "Represents an amount-currency pair for a basic price",
      "fields": [
        { "name": "amount", "type": "double" },
        { "name": "currency", "type": "string", "description": "ISO 4217 3 currency code as defined in https://api.flow.io/reference/currencies", "example": "CAD" },
        { "name": "label", "type": "string" }
      ]
    },
    "dimensions": {
      "fields": [
        { "name": "product", "type": "dimension", "required": false },
        { "name": "packaging", "type": "dimension", "required": false }
      ]
    },
    "dimension": {
      "fields": [
        { "name": "depth", "type": "measurement", "required": false },
        { "name": "diameter", "type": "measurement", "required": false },
        { "name": "length", "type": "measurement", "required": false },
        { "name": "weight", "type": "measurement", "required": false },
        { "name": "width", "type": "measurement", "required": false }
      ]
    },
    "measurement": {
      "fields": [
        { "name": "value", "type": "string", "example": "12.23" },
        { "name": "units", "type": "unit_of_measurement", "example": "inch" }
      ]
    },
    "image": {
      "description": "The URL to an image, with optional tags. Flow Commerce primarily uses images to enhance the administrative tools (e.g. showing an item image in console)",
      "fields": [
        { "name": "url", "type": "string", "description": "The full URL to the image", "example": "https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png" },
        { "name": "tags", "type": "[image_tag]", "default": [], "description": "Tags can be used to identify the type of image being sent" }
      ]
    },
    "item_harmonization": {
      "description": "Everything we know about an item's harmonization.",
      "fields": [
        { "name": "organization_id", "type": "string" },
        { "name": "item_number", "type": "string" },
        { "name": "phrase_id", "type": "string", "required": false },
        { "name": "customs_description", "type": "string", "required": false },
        { "name": "countries_of_origin", "type": "[string]", "description": "Country code iso31663", "required": false },
        { "name": "hs6", "type": "string", "required": false },
        { "name": "tariffs", "type": "map[tariff_code_duty]", "required": false, "description": "Destination country code iso31663 to tariff codes" }
      ]
    },
    "tariff_code_duty": {
      "description": "For a specific destination, the full tariff_code and associated duties.",
      "fields": [
        { "name": "tariff_code", "type": "string", "description": "Code for the a specific destination. Also known as hs10." },
        { "name": "duties", "type": "map[duties]", "description": "Origin country code iso31663 to duties" }
      ]
    },
    "duties": {
      "description": "For a specific origin and destination, the associated duties.",
      "fields": [
        { "name": "duty_rate", "type": "duty", "description": "The original model for duty rate." },
        { "name": "duty_rate_v2", "type": "duty_rate", "description": "A newer, more complex/accurate, model for duty rate.", "required": false }
      ]
    },
    "duty": {
      "description": "Represents a simple model of duties that apply to a given item / trade lane.",
      "fields": [
        { "name": "rate", "type": "double", "description": "The combined duty rate. A value of 25 indicates a duty rate of 25%", "example": "25", "minimum": 0 },
        { "name": "components", "type": "[levy_component]", "description": "The components to which duty is applied.", "minimum": 1 },
        { "name": "deminimis", "type": "deminimis", "required": false, "description": "Describes the duty de minimis if there is one for this destination" },
        { "name": "name", "type": "string", "required": false, "description": "Generally used for Where this rate came from and potentially its type." }
      ]
    },
    "deminimis_simple": {
      "description": "De Minimis for most common example which includes a value threshold and rules on what components are used in the duty calculation",
      "fields": [
        { "name": "value", "type": "double", "required": false, "description": "The value below which no tax or duty is collected, which is a sum of the values associated with the de minimis components." },
        { "name": "currency", "type": "string", "description": "The ISO-4217 3 character currency code in which the value is calculated." },
        { "name": "components", "type": "[levy_component]", "description": "The components that are used to determine the value. Note that these components may be different from the components for the VAT or duty itself." },
        { "name": "minimum", "type": "double", "required": false, "description": "If the calculated VAT or duty amount is less than the minimum, no VAT or duty is owed. In other words, this is the minimum payable amount.", "minimum": "0" }
      ]
    },
    "deminimis_per_item": {
      "description": "De Minimis per item describes rules which require minimum and/or maximum values per item",
      "fields": [
        { "name": "currency", "type": "string", "description": "The ISO-4217 3 character currency code in which the value is calculated" },
        { "name": "minimum", "type": "double", "required": false, "description": "If specified, the minimum amount due per item", "minimum": "0" },
        { "name": "maximum", "type": "double", "required": false, "description": "If specified, the maximum amount due per item", "minimum": "0" }
      ]
    },
    "duty_rate": {
      "description": "Structured duty rate",
      "fields": [
        { "name": "id", "type": "string" },
        { "name": "raw_id", "type": "string", "description": "id of the duty_raw from which this was generated" },
        { "name": "destination", "type": "string", "description": "alpha-3 ISO 3166-1" },
        { "name": "origin", "type": "string", "description": "alpha-3 ISO 3166-1" },
        { "name": "tariff_code", "type": "string" },
        { "name": "expression", "type": "duty_expression" },
        { "name": "parser_version", "type": "string", "description": "Version of parser that translated between raw and structured duty rate." },
        { "name": "created_at", "type": "date-time-iso8601" }
      ]
    },
    "duty_simple_expression": {
      "description": "Non-compound duty expression: percent of price or 9.9 per unit of measure",
      "fields": [
        { "name": "type", "type": "duty_simple_expression_type", "description": "free, precent of price, etc" },
        { "name": "value", "type": "double" },
        { "name": "unit_of_measure", "type": "duty_rate_unit_of_measure", "required": false }
      ]
    },
    "duty_compound_expression": {
      "description": "nestable binary operation such as SUM, MAX, MIN",
      "fields": [
        { "name": "type", "type": "duty_compound_expression_type", "description": "sum, max, min" },
        { "name": "left", "type": "duty_expression" },
        { "name": "right", "type": "duty_expression" }
      ]
    },
    "subcatalog": {
      "description": "A configuration with custom query to select a subset of master catalog items for a localized experience",
      "fields": [
        { "name": "id", "type": "string" },
        { "name": "catalog", "type": "catalog" },
        { "name": "settings", "type": "subcatalog_settings" }
      ]
    },
    "catalog": {
      "fields": [
        { "name": "id", "type": "string" }
      ]
    },
    "subcatalog_settings": {
      "plural": "subcatalog_settings",
      "fields": [
        { "name": "update_policy", "type": "update_policy", "default": "auto" }
      ]
    }
  },
  "resources": {
    "item": {
      "many": {
        "path": "/:organization/catalog/items",
        "params": {
          "id": { "type": "[string]", "required": false },
          "number": { "type": "[string]", "required": false },
          "limit": { "type": "integer", "required": true, "default": 25 },
          "offset": { "type": "integer", "required": true, "default": 0 }
        }
      }
    },
    "item_harmonization": {
      "many": {
        "path": "/:organization/harmonization/results/items",
        "params": {
          "number": { "type": "[string]", "required": false }
        }
      }
    },
    "organization": {
      "many": {
        "path": "/organizations",
        "params": {
          "id": { "type": "[string]", "required": false, "maximum": 100 },
          "name": { "type": "string", "description": "Find organizations with this name. Case insensitive. Exact match.", "required": false },
          "environment": { "type": "environment", "description": "Find organizations with this environment", "required": false },
          "parent": { "type": "string", "description": "Find organizations that belong to this specified parent organization id. Case insensitive. Exact match.", "required": false },
          "limit": { "type": "long", "default": 25, "minimum": 1, "maximum": 100 },
          "offset": { "type": "long", "default": 0, "minimum": 0 },
          "sort": { "type": "string", "default": "name" }
        }
      }
    },
    "subcatalog": {
      "many": {
        "path": "/:organization/catalog/subcatalogs",
        "params": {
          "id": { "type": "[string]", "required": false, "maximum": 100 },
          "limit": { "type": "long", "default": 25, "minimum": 1, "maximum": 100 },
          "offset": { "type": "long", "default": 0, "minimum": 0 },
          "sort": { "type": "string", "default": "-created_at" }
        }
      }
    },
    "catalog": {
      "one": {
        "path": "/:organization/catalog"
      }
    }
  }

}